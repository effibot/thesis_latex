\chapter{Requisiti e Specifiche}
\section{Selezione del Payload}
L'idea iniziale del progetto è stata quella di movimentare le sezioni ventilanti (\textit{SV}) che compongono il sottoassieme superiore dei chiller prodotti nello stabilimento. La ragione di questo obiettivo risiede nel fatto che le SV sono componenti di grandi dimensioni, che vengono prodotte all'interno di uno dei capannoni dello stabilimento e successivamente poste negli spazi esterni in piazzole sparse in diversi punti, in attesa di essere assemblate sul prodotto finito.

\begin{note}
    Attualmente, una volta che una SV è pronta per passare alla fase di assemblaggio successiva, viene calettata su appositi supporti con ruote caster e trasportate tramite dei muletti elettrici. Questo richiede l'intervento di personale specializzato all'uso di carroponti e muletti, con conseguente dispendio di tempo e risorse.
\end{note}

\begin{figure}[h]
    \centering
    \includegraphics[width=0.7\textwidth]{2/sv_chiller.png}
    \caption{Modello 3D di una Sezione Ventilante di un Chiller, formata da 8 \textbf{\textit{Moduli a V}}. Ogni modulo, ha dimensioni $(L \times W \times H)m=(2 \times 1 \times 1.5)m$. L'intero sottoassieme ha quindi dimensioni complessive di circa $(8 \times 2 \times 1.5)m$.\\Si possono apprezzare in giallo i supporti con ruote caster su cui viene calettata la SV.}
\end{figure}

Data la difficoltà di dover gestire delle strutture così ingombranti in un ambiente produttivo già di per sé complesso, si è deciso di ridefinire l'obiettivo del progetto, orientandolo la movimentazione dei compressori \textit{a vite}, componenti di taglia standard dal peso contenuto. Questi sono componenti fondamentali per il funzionamento dei chiller, in quanto sono responsabili della compressione del refrigerante e del suo trasferimento attraverso il sistema di climatizzazione per attuare il ciclo termico e pertanto è di interesse primario una gestione logistica efficiente di questi componenti all'interno dello stabilimento.
\begin{note}
    I compressori a vite vengono prodotti in un capannone dedicato e distaccato rispetto a quello dove vengono prodotti i chiller. Una volta prodotti, questi vengono posti in una piazzola di stoccaggio esterna in attesa di essere prelevati e trasportati al reparto di assemblaggio dei chiller. Il trasporto avviene tramite muletti elettrici che inforcano delle pedane in ferro su cui sono posizionati i compressori.
\end{note}

\begin{figure}[h]
    \centering
    \includegraphics[width=\textwidth]{2/compressore_screw.png}
    \caption{Compressore a vite Daikin, modello SM100. Peso: 70 kg. Dimensioni: $(L \times W \times H)m=(0.9 \times 0.4 \times 0.6)m$.}
\end{figure}

La scelta di questo payload ha permesso di definire requisiti più gestibili in termini di capacità di carico e dimensioni del veicolo. Si è comunque mantenuta l'idea di dimensionare i motori e la struttura del veicolo in modo da poter essere scalabile in futuro, qualora si volesse aumentare la capacità di carico per movimentare componenti più grandi come le SV.

\section{Requisiti del Veicolo}
In base alla scelta del payload e all'ambiente operativo, sono stati definiti i seguenti requisiti funzionali e prestazionali per il veicolo autonomo:
\begin{itemize}
    \item \textbf{Limitare i costi:} Il progetto deve mirare a contenere i costi, usando il minimo numero di componenti necessari per raggiungere gli obiettivi prefissati e privilegiando soluzioni economiche ma affidabili.
    \item \textbf{Capacità di carico:} Il veicolo deve essere in grado di trasportare un carico utile minimo di $1000$ kg, per garantire la movimentazione sicura del compressore a vite e di eventuali accessori o attrezzature aggiuntive.
    \item \textbf{Velocità massima:} La velocità massima del veicolo deve essere al massimo di $1$ m/s, per garantire la sicurezza degli operatori e la stabilità del carico durante il trasporto.
    \item \textbf{Tipologia di motori:} Tutti i motori (trazione e sterzo) devono essere elettrici, per ridurre l'impatto ambientale e facilitare la manutenzione.
    \item \textbf{Alimentazione:} Il veicolo deve essere alimentato a batteria, per garantire l'autonomia operativa e la flessibilità di movimento all'interno dello stabilimento.
    \item \textbf{Autonomia operativa:} Il veicolo deve essere in grado di operare almeno per $4$ ore prima di ricaricarsi.
    \item \textbf{Navigazione e localizzazione:} Il veicolo deve essere in grado di navigare autonomamente all'interno dello stabilimento, evitando ostacoli statici e dinamici.
    \item \textbf{Manovrabilità:} Il veicolo deve essere in grado di effettuare manovre semplici come: traiettorie rettilinee, curve morbide, rotazioni sul posto e traslazioni laterali.
    \item \textbf{Interfaccia di controllo:} Il veicolo deve essere dotato di un'interfaccia di controllo che permetta la programmazione delle rotte, il monitoraggio dello stato del veicolo e l'intervento manuale in caso di emergenza.
    \item \textbf{Spazio Operativo:} Il veicolo deve essere in grado di operare in esterna, su asfalto e cemento, e in interna, su pavimentazioni industriali.
\end{itemize}

\section{Specifiche Tecniche}
Considerando i requisiti funzionali e prestazionali, calcoliamo le specifiche tecniche che deve avere il veicolo. Consideriamo, spesso sovradimensionado, i seguenti parametri:
\begin{itemize}
    \item \textbf{Carico utile:} (robot + payload) $1000$ kg
    \item \textbf{Velocità massima:} $1$ m/s
    \item \textbf{Autonomia operativa:} $4$ h
    \item \textbf{Raggio delle ruote:} $0.1$ m
    \item \textbf{Pendenza massima affrontabile:} $10\%$, presa rispetto a una rampa di $0.3$m di altezza per $3$m di lunghezza. Corrispondente a circa $5.7^\circ$.
    \item \textbf{Attrito Statico:} Coefficiente di attrito statico tra ruota e asfalto $\mu_s = 0.5$.
    \item \textbf{Attrito Volvente:} Coefficiente di attrito volvente tra ruota e asfalto $\mu_r = 0.03$.
    \item \textbf{Vel. \& Acc. max}: Supponendo di voler raggiungere una velocità massima di $1$ m/s in $3$ s, si ha un'accelerazione di $\sim0.333$ m/s$^2$.
\end{itemize}
Da questi dati, calcoliamo le seguenti specifiche tecniche affinché avvenga il primo distacco:
\begin{itemize}
    \item In piano, dobbiamo vincere:
          \begin{equation}
              \begin{aligned}
                  F_{r}   & = \mu_r \cdot m \cdot g = 0.03 \cdot 1000 \cdot 9.81 = 294.3 \text{ N} \\
                  F_{a}   & = m \cdot a = 1000 \cdot 0.333 = 333 \text{ N}                         \\
                  F_{tot} & = F_{r} + F_{a} = 294.3 + 333 = 627.3 \text{ N}
              \end{aligned}
          \end{equation}
          Quindi, la coppia totale richiesta è:
          \begin{equation}
              \tau_{tot} = F_{tot} \cdot r = 627.3 \cdot 0.1 = 62.73 \text{ Nm}
          \end{equation}
          Che corrisponde a una potenza totale di:
          \begin{equation}
              P_{tot} = F_{tot} \cdot v = 627.3 \cdot 1 = 627.3 \text{ W}
          \end{equation}
    \item Su una pendenza del $10\%$, dobbiamo vincere:
          \begin{equation}
              \begin{aligned}
                  F_{\parallel} & = m \cdot g \cdot \sin(\theta) = 1000 \cdot 9.81 \cdot \sin(5.7^\circ) = 973.6 \text{ N}                        \\
                  F_{r}         & = \mu_r \cdot m \cdot g \cdot \cos(\theta) = 0.03 \cdot 1000 \cdot 9.81 \cdot \cos(5.7^\circ) = 293.1 \text{ N} \\
                  F_{a}         & = m \cdot a = 1000 \cdot 0.333 = 333 \text{ N}                                                                  \\
                  F_{tot}       & = F_{\parallel} + F_{r} + F_{a} = 973.6 + 293.1 + 333 = 1599.7 \text{ N}
              \end{aligned}
          \end{equation}
          Quindi, la coppia totale richiesta a ciascuna ruota è:
          \begin{equation}
              \tau_{tot} = F_{tot} \cdot r = 1599.7 \cdot 0.1 = 159.97 \text{ Nm}
          \end{equation}
          Che corrisponde a una potenza totale di:
          \begin{equation}
              P_{tot} = F_{tot} \cdot v = 1599.7 \cdot 1 = 1599.7 \text{ W}
          \end{equation}
\end{itemize}
Approssimando la potenza totale necessaria a $1$ kW, si è deciso di richiedere per la batteria una capacità energetica di almeno $4$ kWh per garantire l'autonomia operativa di $4$ ore.

\begin{note}
    In questa trattazione preliminare, non è stato calcolato l'effetto inerziale delle masse in rotazione né tantonmeno le coppie necessarie ad eventuali motori di sterzo per orientare le ruote una volta messe sotto carico e/o in movimento. Questi aspetti più complessi sono stati demandati ai fornitori.
\end{note}

\section{Sistemi di bordo e Sensoristica}
Al fine di ottenere un sistema in grado di navigare autonomamente e di poter controllare i motori, si è deciso di dotare il veicolo di un sistema di bordo composto da:
\begin{itemize}
    \item \textbf{Computer di bordo:} Un \textit{Single Board Computer} (SBC) con capacità di calcolo sufficiente per eseguire gli algoritmi di navigazione e controllo in tempo reale. Si è optato per una soluzione basata su architettura $x86$ per garantire compatibilità con una vasta gamma di software e librerie, data anche la necessità di utilizzare ROS2 e Linux come sistema operativo e framework di sviluppo.
    \item \textbf{Inverter per motori PMAC:} Per il controllo dei motori di trazione e sterzo, si è scelto di utilizzare inverter compatibili con motori brushless a magneti permanenti (PMAC), in grado di fornire la potenza richiesta e di supportare protocolli di comunicazione industriali come CANOpen.
    \item \textbf{Batteria LiFePO4:} Per l'alimentazione del veicolo, si è optato per una batteria al litio-ferro-fosfato (LiFePO4) da almeno $4$ kWh, in grado di garantire l'autonomia operativa richiesta e di supportare cicli di carica/scarica profondi senza degradazione significativa.
    \item \textbf{Sistema di comunicazione CAN:} Per l'integrazione e il controllo dei vari componenti del veicolo, si è scelto di utilizzare un adattatore USB-CAN, che permetta la comunicazione tra il computer di bordo e gli inverter dei motori in CAN bus.
\end{itemize}
Per la sensoristica, si è cercato di contenere il numero di sensori al minimo per ridurre i costi, selezionando solo quelli strettamente necessari per la navigazione autonoma e il controllo del veicolo:
\begin{itemize}
    \item \textbf{LIDAR 3D:} Per la mappatura tridimensionale dell'ambiente circostante e l'individuazione di ostacoli. Il cono di visione del sensore scelto deve coprire almeno $180^\circ$ in orizzontale e $30^\circ$ in verticale, con una portata minima di $10$ m.
    \item \textbf{Encoder sui motori:} Per la misurazione della velocità, della posizione degli sterzi e del numero di giri dei motori di trazione per un calcolo a valle della stima della posizione del veicolo tramite odometria.
\end{itemize}
\begin{note}
    La scelta di non utilizzare telecamere è stata dettata dalla volontà di non dover gestire eventuali problemi legati alla privacy degli operatori nelle prossimità del robot e tantomeno alla complessità della gestione della sicurezza informatica legata alla trasmissione di immagini video per evitare possibili attacchi di spionaggio industriale.
\end{note}
\section{Sistema di Movimentazione}
Per soddisfare i requisiti di manovrabilità, è risultata da subito ovvia la necessità di prevedere meccanismi di sterzo al fine di garantire la riuscita di manovre come rotazioni sul posto e traslazioni laterali. Tuttavia, introdurre meccanismi di sterzo avrebbe comportato un aumento della complessità meccanica andando a incidere sui costi complessivi del progetto. Si è quindi proceduto ad analizzare diverse configurazioni di ruote motrici e sterzanti per trovare un compromesso tra le richieste esplicitate. Le configurazioni prese in considerazione sono state:
\begin{enumerate}
    \item \textbf{4 ruote motrici e sterzanti:} Offre la massima trazione e manovrabilità, ma comporta costi elevati e complessità meccanica.
    \item \textbf{2 ruote motrici + 2 ruote fisse:} Compromesso tra trazione e semplicità, ma con limitata capacità di sterzata tramite guida differenziale.
    \item \textbf{2 ruote motrici e sterzanti + 2 ruote fisse:} Buona manovrabilità e trazione, con costi e complessità moderate. Simile ad una configurazione di veicolo tradizionale.
    \item \textbf{2 ruote motrici e sterzanti + 2 ruote caster:} Migliore manovrabilità se le attuazioni sono posizionate opportunamente, con riduzione dei costi e della complessità meccanica.
\end{enumerate}
Dopo un'attenta valutazione, si è deciso di adottare la configurazione a 2 ruote motrici e sterzanti più 2 ruote caster, in quanto offre un buon equilibrio tra manovrabilità, trazione, costi e semplicità meccanica. Le ruote motrici e sterzanti sono state posizionate su una diagonale del veicolo, per massimizzare l'efficacia della sterzata e permettere manovre come rotazioni sul posto e traslazioni laterali. Le ruote caster, invece, sono state posizionate sull'altra diagonale per garantire stabilità e supporto al veicolo durante il movimento.
\begin{figure}[h]
    \centering
    \includegraphics[width=0.6\textwidth]{3/2wd_steering.pdf}
    \caption{Schema della configurazione a 2 ruote motrici e sterzanti (in verde) e 2 ruote caster (in viola).}
\end{figure}
\section{Selezione componenti}
Sulla base delle specifiche tecniche calcolate, e della configurazione di ruote scelta, si è proceduto alla selezione dei componenti principali del veicolo.
\subsection{Motori}
Per gruppo motori, si è scelto di acquistare delle motoruote. Una motoruota integra in un unico componente il motore elettrico, la ruota stessa e il sistema di trasmissione, semplificando notevolmente la progettazione meccanica e riducendo i costi di assemblaggio. Infatti, possono essere montate direttamente sul telaio del veicolo, a patto di predisporre opportune staffe di supporto.

Il prodotto acquistato è la MRT05 di CFR, che combina inoltre un motore di sterzo posizionato verticalmente rispetto al piano della ruota, permettendo di ottenere la sterzata mediante un accoppiamento ad ingranaggi. Questo consente di ottenere un sistema di sterzo compatto e integrato, riducendo ulteriormente la complessità meccanica.

\begin{figure}[h]
    \centering
    \includegraphics[width=0.7\textwidth]{3/MRT05_render.png}
    \caption{Render della motoruota MRT05 di CFR.}
\end{figure}

\begin{table}[h]
    \centering
    \caption{Specifiche tecniche dei motori di trazione e sterzo}
    \label{tab:motors_data}
    \begin{tabular}{|l|c|c|c|}
        \hline
        \textbf{Parametro}        & \textbf{Trazione} & \textbf{Sterzo} & \textbf{Unità} \\
        \hline
        Tipo                      & BR Brushless      & BR Brushless    & -              \\
        Potenza (S2 - 60 min)     & 500               & 300             & W              \\
        Tensione batteria         & 48                & 48              & V              \\
        Velocità motore           & 2300              & 2800            & RPM            \\
        Frequenza                 & 76                & 93              & Hz             \\
        Coppia motore             & 2                 & 1               & Nm             \\
        Rapporto di riduzione     & 1:21              & 1:45.56         & -              \\
        Coppia in uscita          & 37                & 34              & Nm             \\
        Coppia max (acc./frenata) & 180               & -               & Nm             \\
        Grado di protezione       & IP65              & IP65            & -              \\
        Lubrificazione            & Grasso            & Grasso          & -              \\
        Codice motore PMAC        & BD 090 - 50 - 4   & BD 090 - 25 - 4 & -              \\
        \hline
    \end{tabular}
\end{table}

\begin{table}[h]
    \centering
    \caption{Peso complessivo del gruppo ruota motrice}
    \label{tab:drive_unit_weight}
    \begin{tabular}{|l|c|c|}
        \hline
        \textbf{Componente}      & \textbf{Valore} & \textbf{Unità} \\
        \hline
        Peso totale gruppo ruota & 42              & kg             \\
        \hline
    \end{tabular}
\end{table}

\subsection{Verifica dei Requisiti di Trazione}
Verifichiamo ora che i motori selezionati soddisfino i requisiti di coppia e potenza calcolati in precedenza.

\textbf{Requisiti di trazione:}
\begin{itemize}
    \item In piano: coppia totale richiesta $\tau_{richiesta} = 62.73$ Nm, potenza $P_{richiesta} = 627.3$ W
    \item Su rampa 10\%: coppia totale richiesta $\tau_{richiesta} = 159.97$ Nm, potenza $P_{richiesta} = 1599.7$ W
\end{itemize}

\textbf{Caratteristiche dei motori:}
\begin{itemize}
    \item Coppia nominale per ruota: $37$ Nm
    \item Coppia di picco per ruota: $180$ Nm
    \item Potenza nominale per ruota (S2 - 60 min): $500$ W
\end{itemize}

\textbf{Verifica in piano:}
La coppia totale disponibile con 2 motoruote è:
\begin{equation}
    \tau_{disponibile} = 2 \times \tau_{nominale} = 2 \times 37 = 74 \, \text{Nm} \geq \tau_{richiesta} = 62.73 \, \text{Nm} \quad \checkmark
\end{equation}

La forza di trazione massima erogabile in condizioni nominali:
\begin{equation}
    F_{trazione} = \frac{\tau_{disponibile}}{r} = \frac{74}{0.099} \approx 747 \, \text{N} \geq F_{richiesta} = 627.3 \, \text{N} \quad \checkmark
\end{equation}

Margine di sicurezza in piano:
\begin{equation}
    \text{Margine}_{\tau} = \frac{74 - 62.73}{62.73} \times 100 \approx 18\%
\end{equation}

\textbf{Verifica su rampa 10\%:}
Nel caso peggiore (salita 10\% con accelerazione $a = 0.33 \, m/s^2$), la forza richiesta è:
\begin{equation}
    F_{richiesta} = m \cdot g \cdot \sin(\theta) + \mu_r \cdot m \cdot g \cdot \cos(\theta) + m \cdot a = 976 + 293 + 333 = 1602 \, \text{N}
\end{equation}

La coppia corrispondente:
\begin{equation}
    \tau_{richiesta} = F_{richiesta} \cdot r = 1602 \times 0.099 \approx 159 \, \text{Nm}
\end{equation}

Questa condizione supera la coppia nominale ma rientra ampiamente nella coppia di picco disponibile:
\begin{equation}
    \tau_{picco} = 2 \times 180 = 360 \, \text{Nm} \gg \tau_{richiesta} = 159 \, \text{Nm} \quad \checkmark
\end{equation}

La durata della rampa è:
\begin{equation}
    t_{rampa} = \frac{L}{v} = \frac{3}{1} = 3 \, \text{s} \ll t_{picco,max}
\end{equation}

\textbf{Conclusione:} I motori selezionati sono adeguati per operazioni in piano con un margine di sicurezza del 18\%, e possono gestire rampe fino al 10\% utilizzando la coppia di picco per brevi periodi (3 secondi), ben al di sotto del limite temporale consentito.
\begin{figure}[h]
    \centering
    \includegraphics[width=0.7\textwidth]{motore/side_view_2.jpeg}
    \caption{Foto reale della motoruota MRT05 di CFR su un banco di prova. Si possono notare i due motori e la piastra di supporto.}
\end{figure}
\subsection{Batteria}
Per l'alimentazione del veicolo, si è scelto di utilizzare una batteria con tecnoligia LiFePO4 (Litio-Ferro-Fosfato). Questa tecnologia offre numerosi vantaggi, tra cui:
\begin{itemize}
    \item \textbf{Sicurezza:} Le batterie LiFePO4 sono più stabili termicamente e chimicamente rispetto ad altre tecnologie al litio, riducendo il rischio di incendi o esplosioni.
    \item \textbf{Durata:} Le batterie LiFePO4 hanno una vita utile più lunga, con un numero maggiore di cicli di carica/scarica rispetto ad altre tecnologie.
    \item \textbf{Prestazioni:} Le batterie LiFePO4 offrono buone prestazioni in termini di capacità di scarica ad alta corrente, rendendole adatte per applicazioni che richiedono picchi di potenza.
\end{itemize}
Su queste basi, la ricerca del fornitore per tale componente si è concentrata su aziende che operassero nel campo dei veicoli elettrici. Dopo un'attenta valutazione, si è deciso di affidarsi a \textit{FlashBattery}, un'azienda italiana specializzata nel settore, che offre soluzioni dotate di sistemi di gestione della batteria (BMS) avanzati con comunicazione in CANOpen.
\begin{figure}[h]
    \centering
    \includegraphics[width=0.4\textwidth]{batteria/front_view.jpeg}
    \caption{Foto del pacco batteria (rosso) e del caricabatterie (nero) forniti da FlashBattery, alloggiate su un carrello di prova.}
\end{figure}
Sulle base delle specifiche tecniche calcolate in precedenza, il fornitore ha proposto una batteria con le seguenti caratteristiche:

\begin{table}[h]
    \centering
    \caption{Specifiche tecniche della batteria LiFePO4}
    \label{tab:battery_specs}
    \begin{tabular}{|l|c|c|}
        \hline
        \textbf{Parametro}                       & \textbf{Valore} & \textbf{Unità} \\
        \hline
        Tensione nominale                        & 51.2            & V              \\
        Capacità nominale                        & 105             & Ah             \\
        Chimica                                  & LiFePO4         & -              \\
        Tensione massima                         & 59.2            & V              \\
        Tensione minima                          & 44              & V              \\
        Corrente di scarica                      & 105 (continua)  & A              \\
        Corrente di scarica picco (t $\leq$ 60s) & 210             & A              \\
        Corrente di carica massima               & 50              & A              \\
        Profondità di scarica (DOD)              & 80              & \%             \\
        Tensione di rigenerazione massima        & 56              & V              \\
        Corrente di rigenerazione massima        & 210             & A              \\
        Energia totale                           & 5.38            & kWh            \\
        Energia disponibile (80\% DOD)           & 4.30            & kWh            \\
        Temperatura operativa                    & -10 / +45       & °C             \\
        Auto-scarica (@25°C)                     & 3 / mese        & \%             \\
        Auto-scarica (@50°C)                     & 18 / mese       & \%             \\
        \hline
    \end{tabular}
\end{table}

\begin{table}[h]
    \centering
    \caption{Specifiche meccaniche della batteria}
    \label{tab:battery_mechanical}
    \begin{tabular}{|l|c|c|}
        \hline
        \textbf{Parametro}  & \textbf{Valore}     & \textbf{Unità} \\
        \hline
        Lunghezza           & 510                 & mm             \\
        Larghezza           & 320                 & mm             \\
        Altezza             & 275                 & mm             \\
        Peso stimato        & 55                  & kg             \\
        Materiale           & Acciaio al carbonio & -              \\
        Finitura esterna    & RAL 3002 (rosso)    & -              \\
        Grado di protezione & IP65                & -              \\
        \hline
    \end{tabular}
\end{table}

\subsection{Verifica dei Requisiti Energetici}
Confrontiamo ora i requisiti energetici calcolati in precedenza con le caratteristiche della batteria selezionata.

\textbf{Requisito energetico:} Era stato calcolato un fabbisogno di almeno $4$ kWh per garantire $4$ ore di autonomia operativa con una potenza media stimata di $1$ kW.

\textbf{Caratteristiche della batteria:}
\begin{itemize}
    \item Energia totale: $5.38$ kWh
    \item Energia disponibile (80\% DOD): $4.30$ kWh
\end{itemize}

\textbf{Verifica della capacità energetica:}
\begin{equation}
    E_{disponibile} = 4.30 \, \text{kWh} \geq E_{richiesta} = 4 \, \text{kWh} \quad \checkmark
\end{equation}

La batteria soddisfa il requisito minimo con un margine di sicurezza del:
\begin{equation}
    \text{Margine} = \frac{E_{disponibile} - E_{richiesta}}{E_{richiesta}} \times 100 = \frac{4.30 - 4}{4} \times 100 = 7.5\%
\end{equation}

\textbf{Verifica della corrente di scarica:}
La potenza massima richiesta in condizioni critiche (rampa 10\%) è $P_{max} = 1.6$ kW. La corrente corrispondente alla tensione nominale è:
\begin{equation}
    I_{richiesta} = \frac{P_{max}}{V_{nominale}} = \frac{1600}{51.2} \approx 31.25 \, \text{A}
\end{equation}

La batteria fornisce:
\begin{itemize}
    \item Corrente continua: $105$ A $\gg 31.25$ A $\checkmark$
    \item Corrente di picco (t $\leq$ 60s): $210$ A $\checkmark$
\end{itemize}

\textbf{Conclusione:} La batteria selezionata è adeguata ai requisiti del veicolo, offrendo capacità energetica sufficiente per l'autonomia richiesta e correnti di scarica ampiamente superiori alle necessità operative, garantendo così un margine di sicurezza per eventuali picchi di potenza o inefficienze del sistema.

\subsection{Driver per Motori Elettrici}
Per il controllo di basso livello dei motori PMAC integrati nelle motoruote, si è deciso di utilizzare degli inverter compatibili con le specifiche dei motori stessi, ovvero:
\begin{itemize}
    \item Tensione di alimentazione: 48V
    \item Potenza nominale: almeno 500W per i motori di trazione e 300W per i motori di sterzo
    \item Supporto per protocollo di comunicazione CANOpen.
\end{itemize}
Dopo una ricerca tra i possibili fornitori\footnote{Tale ricerca è stata necessaria in quanto CFR \textbf{non produce} inverter.}, si è scelto di accettare la proposta offerta da \textbf{MicroPhase}, un'azienda italiana specializzata in azionamenti per motori elettrici.
\begin{figure}[h]
    \centering
    \includegraphics[width=0.5\textwidth]{3/mini-traction-power.png}
    \caption{Inverter Mini-Traction Power di MicroPhase, utilizzato per il controllo dei motori PMAC delle motoruote.}
\end{figure}
Il modello da loro selezionato è il \textit{Mini-Traction Power} che soddisfa tutti i requisiti richiesti. Difatti, tali driver \textbf{implementano completamente} i protocolli CiA 301 e 402 per la definizione degli oggetti e della macchina a stati finiti per il controllo dei motori.

Inoltre, l'azienda ha offerto supporto tecnico per:
\begin{itemize}
    \item Configurazione dei driver per l'uso specifico con i motori CFR e gli encoder \textit{SIN/COS} da loro integrati.
    \item Taratura dei PID per il controllo di basso livello delle fasi di corrente dei motori.
\end{itemize}

\begin{table}[h]
    \centering
    \caption{Specifiche tecniche dell'inverter Mini-Traction Power (Modello 48V)}
    \label{tab:inverter_specs}
    \begin{tabular}{|l|c|c|}
        \hline
        \textbf{Parametro}         & \textbf{Valore}      & \textbf{Unità} \\
        \hline
        Tensione nominale          & 48                   & V              \\
        Tensione minima            & 20                   & V              \\
        Tensione massima ammessa   & 80                   & V              \\
        Corrente di boost (5s)     & 120 @ 5s             & A              \\
        Corrente di picco (2 min)  & 100 @ 2min           & A              \\
        Corrente nominale          & 75                   & A              \\
        Potenza nominale di uscita & 3.6                  & kW             \\
        Frequenza PWM              & 20                   & kHz            \\
        Temperatura di esercizio   & 0 / +40              & °C             \\
        Temperatura di stoccaggio  & -10 / +70            & °C             \\
        Uscita ausiliaria 5V       & 5 (max 200 mA)       & V              \\
        Banda di corrente          & 2                    & kHz            \\
        Banda di velocità          & 150                  & Hz             \\
        Induttanza minima motore   & 200                  & $\mu$H         \\
        Peso                       & 0.5                  & kg             \\
        Grado di contaminazione    & 2° o superiore       & -              \\
        Altitudine                 & 0-1000m / 1000-2000m & m              \\
        Infiammabilità 94V-0       & Conforme             & -              \\
        \hline
    \end{tabular}
\end{table}
\subsection{Computer di Bordo}
Per il computer di bordo, si è scelto il \textit{LattePanda Sigma}, un Single Board Computer (SBC) basato su architettura x86 che offre prestazioni eccezionali in un formato compatto. Questo dispositivo è equipaggiato con un processore Intel® Core™ i5-1340P di 13ª generazione (Raptor Lake), caratterizzato da 12 core (4 Performance-core + 8 Efficient-core) e 16 thread, con frequenza turbo fino a 4.6 GHz per i core ad alte prestazioni e 3.4 GHz per quelli efficienti.

\begin{figure}[h]
    \centering
    \includegraphics[width=0.7\textwidth]{3/lattepanda_sigma2.png}
    \caption{LattePanda Sigma Single Board Computer con processore Intel Core i5-1340P.}
\end{figure}

La scelta di questo SBC è stata motivata da diversi fattori chiave:
\begin{itemize}
    \item \textbf{Architettura x86:} Garantisce compatibilità nativa con ROS2 e una vasta gamma di software e librerie di robotica, semplificando lo sviluppo e il debug.
    \item \textbf{Potenza di calcolo:} Il processore i5-1340P offre prestazioni elevate per eseguire algoritmi di navigazione, localizzazione e controllo in tempo reale, con una potenza base di 28W (configurabile fino a 45W).
    \item \textbf{Memoria veloce:} Dotato di 16GB di RAM LPDDR5-6400 dual-channel, con una banda passante di 102.4 GB/s, permette l'elaborazione simultanea di dati provenienti dai sensori e l'esecuzione di algoritmi complessi.
    \item \textbf{GPU integrata:} Intel® Iris® Xe Graphics con 80 unità di esecuzione, utile per eventuali elaborazioni grafiche o visualizzazioni.
    \item \textbf{Connettività industriale:} Include interfacce essenziali per applicazioni robotiche:
          \begin{itemize}
              \item 2 porte Ethernet 2.5GbE (Intel® i225-V) per comunicazioni di rete affidabili
              \item Porte USB (2x USB2.0, 2x USB3.2 Gen2, 2x Thunderbolt™ 4) per collegare adattatori CAN-USB e altri dispositivi
              \item Porta COM con supporto nativo per protocolli industriali RS232/RS485
              \item Header GPIO a 34 pin con co-processore ATmega32U4 per interfacciamento I/O
          \end{itemize}
    \item \textbf{Espandibilità:} Slot M.2 per storage NVMe ad alte prestazioni e moduli wireless, permettendo l'installazione di SSD per logging dei dati e moduli WiFi/4G per comunicazioni remote.
    \item \textbf{Supporto multi-OS:} Compatibile con Windows, Ubuntu e altre distribuzioni Linux, Proxmox VE, permettendo la scelta del sistema operativo più adatto. Per il progetto è stato scelto Ubuntu 24.04 LTS con ROS2 Jazzy Jalisco.
    \item \textbf{Formato compatto:} Form factor 3.5" (146 $\times$ 102 mm), facilmente integrabile nel telaio del robot.
    \item \textbf{Gestione energetica:} Alimentazione flessibile tramite DC Jack (12-20V) o USB Type-C PD (20V), con funzioni BIOS avanzate tra cui Auto Power-on e Watchdog Timer, essenziali per applicazioni autonome.
\end{itemize}

\begin{table}[h]
    \centering
    \caption{Specifiche tecniche principali del LattePanda Sigma}
    \label{tab:sbc_specs}
    \begin{tabular}{|l|c|c|}
        \hline
        \textbf{Parametro}     & \textbf{Valore}                                & \textbf{Unità} \\
        \hline
        Processore             & Intel Core i5-1340P                            & -              \\
        Core / Thread          & 12C (4P+8E) / 16T                              & -              \\
        Frequenza massima      & 4.6 (P-core), 3.4 (E-core)                     & GHz            \\
        Cache L2               & 12                                             & MB             \\
        Potenza base (TDP)     & 28 (default: 45W)                              & W              \\
        GPU                    & Intel Iris Xe Graphics (80 EU)                 & -              \\
        Frequenza GPU          & 1.45                                           & GHz            \\
        RAM                    & 16 GB LPDDR5-6400 Dual-Channel                 & GB             \\
        Banda passante memoria & 102.4                                          & GB/s           \\
        Ethernet               & 2 $\times$ 2.5GbE (Intel i225-V)               & -              \\
        USB                    & 2$\times$USB2.0, 2$\times$USB3.2, 2$\times$TB4 & -              \\
        Storage                & M.2 NVMe PCIe 4.0 x4                           & -              \\
        Display                & HDMI 2.1, 2$\times$USB-C DP, eDP               & -              \\
        Dimensioni             & 146 $\times$ 102                               & mm             \\
        Temperatura operativa  & 0 / +45                                        & °C             \\
        \hline
    \end{tabular}
\end{table}

Questa piattaforma hardware fornisce le risorse computazionali necessarie per eseguire l'intero stack software del robot, includendo la gestione dei sensori, la localizzazione, la pianificazione del percorso e il controllo dei motori, mantenendo al contempo un profilo energetico compatibile con l'alimentazione a batteria del veicolo.

\section{Sensoristica}

Analizziamo ora l'insieme della sensoristica a disposizione e/o scelta per il veicolo.

\subsection{LiDAR}

Il sensore LiDAR scelto per il progetto è il \textit{Livox Mid-360}, un dispositivo di scansione 3D prodotto da Livox Technology che offre un eccellente compromesso tra prestazioni, costo e facilità di integrazione. Questo sensore utilizza un pattern di scansione non ripetitivo proprietario di Livox, che garantisce una copertura più uniforme dell'ambiente rispetto ai LiDAR tradizionali a scansione meccanica.

La scelta di questo sensore è stata motivata da diverse caratteristiche chiave:
\begin{itemize}
    \item \textbf{Campo visivo esteso:} $360^\circ$ in orizzontale e $59^\circ$ in verticale ($-7^\circ$ a $+52^\circ$), permettendo una copertura quasi completa dell'ambiente circostante il veicolo, essenziale per la navigazione autonoma e il rilevamento di ostacoli.
    \item \textbf{Portata adeguata:} Fino a 70 m per superfici con riflettività dell'80\%, ampiamente sufficiente per l'ambiente industriale interno ed esterno dello stabilimento.
    \item \textbf{Alta frequenza di acquisizione:} 200,000 punti/secondo con frame rate di 10 Hz, fornendo una densità di punti adeguata per algoritmi di SLAM e mappatura in tempo reale.
    \item \textbf{IMU integrata:} Dotato di IMU a 6 assi (modello ICM40609) che fornisce dati di accelerazione e velocità angolare, fondamentali per la fusione sensoriale con gli algoritmi di localizzazione come FAST-LIO2.
    \item \textbf{Sincronizzazione precisa:} Supporto per IEEE 1588-2008 (PTPv2) e GPS per la sincronizzazione temporale, utile per la fusione multi-sensoriale.
    \item \textbf{Interfaccia Ethernet:} Comunicazione tramite Ethernet 100BASE-TX, facilmente integrabile con il computer di bordo e compatibile con ROS2.
    \item \textbf{Compattezza e leggerezza:} Dimensioni ridotte (65×65×60 mm) e peso contenuto (265 g) facilitano l'integrazione meccanica sul veicolo.
    \item \textbf{Robustezza:} Grado di protezione IP67, adatto per operazioni in ambiente industriale e all'aperto.
    \item \textbf{Basso consumo:} Potenza media di 6.5 W, compatibile con l'alimentazione a batteria del veicolo.
\end{itemize}

\begin{figure}[h]
    \centering
    \includegraphics[width=0.5\textwidth]{3/livox_mid360.png}
    \caption{Sensore LiDAR Livox Mid-360.}
\end{figure}

\begin{figure}[h]
    \centering
    \includegraphics[width=0.7\textwidth]{3/livox_mid360_fov.png}
    \caption{Campo visivo del LiDAR Livox Mid-360: $360^\circ$ orizzontale e $59^\circ$ verticale ($-7^\circ$ a $+52^\circ$).}
\end{figure}

\begin{table}[h]
    \centering
    \caption{Specifiche tecniche del LiDAR Livox Mid-360}
    \label{tab:lidar_specs}
    \begin{tabular}{|l|c|c|}
        \hline
        \textbf{Parametro}                           & \textbf{Valore}                  & \textbf{Unità} \\
        \hline
        Modello                                      & Mid-360                          & -              \\
        Lunghezza d'onda laser                       & 905                              & nm             \\
        Classe di sicurezza laser                    & Class 1 (IEC60825-1:2014)        & -              \\
        Portata di rilevamento (@ 100 klx)           & 40 @ 10\% rifl., 70 @ 80\% rifl. & m              \\
        Zona cieca prossimale                        & 0.1                              & m              \\
        Campo visivo orizzontale                     & 360                              & °              \\
        Campo visivo verticale                       & -7 a +52 (59° totale)            & °              \\
        Precisione della distanza (1$\sigma$ @ 10m)  & $\leq$ 2                         & cm             \\
        Precisione della distanza (1$\sigma$ @ 0.2m) & $\leq$ 3                         & cm             \\
        Precisione angolare (1$\sigma$)              & $<$ 0.15                         & °              \\
        Frequenza punti                              & 200,000 (first return)           & pts/s          \\
        Frame rate                                   & 10 (tipico)                      & Hz             \\
        Porta dati                                   & Ethernet 100BASE-TX              & -              \\
        Sincronizzazione                             & IEEE 1588-2008, GPS              & -              \\
        Tasso falsi allarmi (@ 100 klx)              & $<$ 0.01                         & \%             \\
        IMU integrata                                & ICM40609 (6 assi)                & -              \\
        Temperatura operativa                        & -20 / +55                        & °C             \\
        Grado di protezione                          & IP67                             & -              \\
        Potenza media                                & 6.5                              & W              \\
        Tensione di alimentazione                    & 9 - 27                           & V DC           \\
        Dimensioni                                   & 65 × 65 × 60                     & mm             \\
        Peso                                         & 265                              & g              \\
        \hline
    \end{tabular}
\end{table}

\subsubsection{Supporto Software}
Il Livox Mid-360 dispone di un ecosistema software completo sviluppato e mantenuto da Livox Technology, che facilita l'integrazione del sensore in applicazioni robotiche:

\textbf{Livox SDK2:} È la libreria di base scritta in C/C++ che implementa il protocollo di comunicazione proprietario di Livox. L'SDK fornisce:
\begin{itemize}
    \item API C-style per il controllo del LiDAR e la ricezione dei dati
    \item Supporto multi-piattaforma (Linux e Windows)
    \item Gestione di configurazioni multi-sensore e multi-host
    \item Sincronizzazione temporale tramite IEEE 1588 (PTP) e GPS
    \item Logging dei dati del firmware per diagnostica
    \item Modalità master/slave per scenari multi-casting
\end{itemize}

\textbf{Livox ROS Driver 2:} È il driver ufficiale per l'integrazione con ROS e ROS2, sviluppato sopra l'SDK2. Supporta:
\begin{itemize}
    \item ROS Melodic e Noetic (ROS1)
    \item ROS2 Foxy e Humble. Jazzy non è ancora ufficialmente supportato, ma il driver per Humble funziona correttamente anche su questa versione.
    \item Pubblicazione dati in formati multipli:
          \begin{itemize}
              \item PointCloud2 standard (sensor\_msgs/PointCloud2)
              \item Formato personalizzato Livox con timestamp per punto
              \item Formato PCL (pcl::PointXYZI)
          \end{itemize}
    \item Configurazione tramite file JSON per parametri di rete, modalità di scansione e calibrazione estrinseca
    \item Pubblicazione separata di dati IMU integrati
    \item Supporto per topic multipli (un topic per LiDAR o topic condiviso)
    \item Frequenza di pubblicazione configurabile (fino a 100 Hz)
\end{itemize}

Per il progetto è stata utilizzata la versione ROS2 Humble del driver, che permette l'integrazione diretta con l'architettura software del robot. Il sensore è inoltre supportato nativamente da FAST-LIO2, l'algoritmo di SLAM scelto per il progetto, garantendo prestazioni ottimali per la localizzazione e la mappatura in tempo reale. La compatibilità nativa con FAST-LIO2 deriva dal fatto che il formato dati personalizzato di Livox, che fornisce un timestamp per ogni singolo punto anziché per frame, è particolarmente adatto agli algoritmi di SLAM basati su odometria LiDAR-inerziale.

\begin{note}
    Il cono cieco del sensore implica che ci sono dei limiti nella copertura verticale che il sensore può offrire. Questo implica che è importante il punto di montaggio del sensore sul veicolo per massimizzare l'area coperta e minimizzare le zone non visibili in funzione delle operazioni previste.

    Nel progetto, il sensore è stato montato frontalmente e rivolto verso il basso, in modo da coprire efficacemente l'area immediatamente davanti e circostante il veicolo.
\end{note}

\subsection{Encoder}

Gli encoder per il controllo della velocità e della posizione angolare sono componenti integrati di fabbrica nelle motoruote MRT05 fornite da CFR. Si tratta di encoder magnetici angolari di tipo \textit{SIN/COS} modello \textbf{FTS1} prodotti da COBO Spa, progettati specificamente per applicazioni "through-shaft" (albero passante).

Questa tecnologia utilizza un anello magnetico permanente polarizzato diametralmente montato sull'albero rotante del motore. Il sensore FTS1 rileva la distribuzione del campo magnetico attraverso una combinazione brevettata di sensori Hall allo stato solido e algoritmi di elaborazione digitale del segnale. Le uscite sinusoidali (SIN) e cosinusoidali (COS) variano in funzione della posizione angolare del magnete, fornendo informazioni precise sulla rotazione.

\textbf{Caratteristiche principali:}
\begin{itemize}
    \item \textbf{Tecnologia contactless:} Assenza di usura meccanica e manutenzione, ideale per ambienti industriali severi
    \item \textbf{Uscite multiple programmabili:}
          \begin{itemize}
              \item Segnali analogici SIN/COS con ampiezze configurabili (1.0, 1.1, 2.2 o 4 Vpp)
              \item Uscita analogica 0.5-4.5 Vdc per posizione assoluta
              \item Encoder incrementale ABZ con 1024 conteggi per giro
              \item Uscite UVW per motori brushless
              \item Interfaccia SPI per dati digitali a 12 bit
          \end{itemize}
    \item \textbf{Risoluzione:} 10-bit assoluta, 12-bit tramite SPI, interpolabile fino a 1024 PPR in modalità incrementale
    \item \textbf{Latenza ridotta:} Tipicamente 12 $\mu$s (high bandwidth) o 75 $\mu$s (low bandwidth)
    \item \textbf{Non linearità integrale:} ±0.6° con magnete ideale e calibrazione
    \item \textbf{Velocità rotazionale:} Fino a 25000 rpm (prestazioni ottimali fino a 10000 rpm)
    \item \textbf{Funzioni avanzate:}
          \begin{itemize}
              \item Auto-calibrazione per compensazione offset e gain
              \item Funzione ZERO programmabile
              \item Emulazione fino a 16 poli per uscite SIN/COS
          \end{itemize}
    \item \textbf{Robustezza:} Resistenza a vibrazioni (20g, 10-2000 Hz) e shock (50g, 11ms), grado di protezione IP67
    \item \textbf{Range di temperatura:} -40°C a +125°C (uscite SIN/COS, SPI, ABZ, UVW @ 5V)
    \item \textbf{Alimentazione flessibile:} 5 Vdc o 9-36 Vdc
\end{itemize}

\begin{table}[h]
    \centering
    \caption{Specifiche tecniche dell'encoder magnetico FTS1}
    \label{tab:encoder_specs}
    \begin{tabular}{|l|c|c|}
        \hline
        \textbf{Parametro}       & \textbf{Valore}                  & \textbf{Unità} \\
        \hline
        Modello                  & FTS1 (COBO Spa)                  & -              \\
        Tipo                     & Magnetico angolare through-shaft & -              \\
        Tecnologia sensori       & Hall allo stato solido           & -              \\
        Risoluzione assoluta     & 10 bit                           & -              \\
        Risoluzione SPI          & 12 bit                           & -              \\
        Risoluzione incrementale & 1024                             & PPR            \\
        Uscite SIN/COS           & 1.0, 1.1, 2.2, 4 (prog.)         & Vpp            \\
        Uscita analogica         & 0.5 - 4.5                        & Vdc            \\
        Non linearità integrale  & $\pm$ 0.6 (calibrato)            & °              \\
        Latenza (high bandwidth) & 12                               & $\mu$s         \\
        Latenza (low bandwidth)  & 75                               & $\mu$s         \\
        Velocità massima         & 25000                            & rpm            \\
        Velocità ottimale        & $<$ 10000                        & rpm            \\
        Tensione alimentazione   & 5 o 9-36                         & Vdc            \\
        Temperatura operativa    & -40 / +125                       & °C             \\
        Resistenza vibrazioni    & 20g (10-2000 Hz)                 & -              \\
        Resistenza shock         & 50g (11 ms)                      & -              \\
        Grado di protezione      & IP67                             & -              \\
        Materiale involucro      & PBT                              & -              \\
        \hline
    \end{tabular}
\end{table}

Nel sistema del robot, gli encoder FTS1 sono collegati direttamente ai driver Mini-Traction Power, ai quali forniscono feedback di posizione angolare e velocità tramite i segnali SIN/COS analogici. I driver eseguono l'interpolazione dei segnali per implementare il controllo in anello chiuso della posizione e della velocità dei motori, garantendo precisione e reattività nella risposta ai comandi. I dati di encoder sono inoltre accessibili dal computer di bordo tramite il bus CAN per il calcolo dell'odometria delle ruote, contribuendo alla stima della posizione del veicolo insieme ai dati del LiDAR e dell'IMU.

\subsection{Sonda di Temperatura}

Le sonde di temperatura integrate nelle motoruote MRT05 sono sensori resistivi (RTD) modello \textbf{STS1} prodotti da Microtherm GmbH, forniti di serie da CFR per il monitoraggio termico dei motori. Si tratta di sensori con caratteristiche simili al classico KTY84, ma con prestazioni migliorate.

Il principio di funzionamento si basa sulla variazione della resistenza elettrica di un elemento sensibile in funzione della temperatura. Il sensore fornisce una curva resistenza-temperatura ben definita e ripetibile, permettendo una misurazione precisa attraverso la lettura della resistenza con un circuito di condizionamento appropriato.

\textbf{Caratteristiche principali:}
\begin{itemize}
    \item \textbf{Range di temperatura esteso:} Da -40°C a +170°C (fino a +190°C con possibile perdita di linearità)
    \item \textbf{Resistenza nominale:} 1000 $\Omega$ a 100°C (±3\%)
    \item \textbf{Eccellente stabilità termica a lungo termine:} Garantisce misurazioni affidabili nel tempo
    \item \textbf{Alta precisione:} Curve resistenza-temperatura con tolleranze ben definite
    \item \textbf{Nessuna polarità:} Non richiede attenzione alla connessione (+/-)
    \item \textbf{Isolamento elevato:} Resistenza di isolamento minima di 100 M$\Omega$ a 100 Vdc
    \item \textbf{Basso assorbimento:} Corrente nominale 5 mA, massima 8 mA
    \item \textbf{Potenza dissipata ridotta:} Massimo 50 mW
    \item \textbf{Robustezza meccanica:} Disponibile con involucro in PPS o guaina termorestringente in Kynar®
    \item \textbf{Compatibilità RoHS:} Conformità alle normative ambientali
\end{itemize}

\begin{table}[h]
    \centering
    \caption{Specifiche tecniche della sonda di temperatura STS1}
    \label{tab:temp_sensor_specs}
    \begin{tabular}{|l|c|c|}
        \hline
        \textbf{Parametro}           & \textbf{Valore}   & \textbf{Unità} \\
        \hline
        Modello                      & STS1 (Microtherm) & -              \\
        Tipo                         & RTD (resistivo)   & -              \\
        Resistenza tipica @ 100°C    & 1000              & $\Omega$       \\
        Tolleranza resistenza        & $\pm$ 3           & \%             \\
        Range temperatura operativa  & -40 / +170        & °C             \\
        Range esteso                 & -40 / +190        & °C             \\
        Resistenza @ -40°C (tip.)    & 359               & $\Omega$       \\
        Resistenza @ 0°C (tip.)      & 498               & $\Omega$       \\
        Resistenza @ +25°C (tip.)    & 626               & $\Omega$       \\
        Resistenza @ +100°C (tip.)   & 1000              & $\Omega$       \\
        Resistenza @ +170°C (tip.)   & 1482              & $\Omega$       \\
        Resistenza isolamento (min.) & 100 @ 100 Vdc     & M$\Omega$      \\
        Corrente nominale            & 5                 & mA             \\
        Corrente massima             & 8                 & mA             \\
        Potenza dissipata massima    & 50                & mW             \\
        Materiale involucro          & PPS / Kynar®      & -              \\
        Tipo cavi                    & ETFE, AWG24       & -              \\
        Conformità                   & RoHS              & -              \\
        \hline
    \end{tabular}
\end{table}

Nel sistema del robot, le sonde STS1 sono collegate ai driver Mini-Traction Power, che monitorano costantemente la temperatura dei motori per prevenire danni da surriscaldamento. I driver implementano protezioni termiche automatiche, riducendo la potenza erogata o arrestando il motore qualora la temperatura superi soglie critiche. I dati di temperatura sono accessibili anche dal computer di bordo tramite il bus CAN, permettendo la supervisione termica in tempo reale dell'intero sistema e l'implementazione di strategie di gestione termica a livello di veicolo (ad esempio, limitazione della velocità massima in condizioni di alta temperatura ambiente).
